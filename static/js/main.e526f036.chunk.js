(window["webpackJsonpgoit-react-hw-03-image-finder"]=window["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{14:function(e,a,t){e.exports={gallery:"Gallery_gallery__vfJss",button:"Gallery_button__3GNQx"}},26:function(e,a,t){e.exports={searchForm:"SearchForm_searchForm__8Znf-"}},27:function(e,a,t){e.exports=t(60)},3:function(e,a,t){e.exports={photoCard:"PhotoCard_photoCard__2VrG_",stats:"PhotoCard_stats__UtI3O",statsItem:"PhotoCard_statsItem__b5lXd",fullscreenButton:"PhotoCard_fullscreenButton__2YquT"}},32:function(e,a,t){},33:function(e,a,t){},5:function(e,a,t){e.exports={modal:"Modal_modal__3UCLb",overlay:"Modal_overlay__3h4CO",modalImage:"Modal_modalImage__1g6LY",closeButton:"Modal_closeButton__2kvcF"}},60:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(24),c=t.n(o),s=(t(32),t(33),t(12)),l=t(2),i=t.n(l),m=t(4),u=t(7),d=t(8),p=t(10),h=t(9),f=t(11),v=t(13),g=t.n(v),w=t(25),b=t.n(w),y=t(14),k=t.n(y),_=t(26),E=t.n(_),N=function(e){var a=e.handleSubmit;return r.a.createElement("form",{className:E.a.searchForm,onSubmit:a},r.a.createElement("input",{type:"text",autoComplete:"off",placeholder:"Search images...",name:"search"}))},I=t(3),M=t.n(I),x=function(e){var a=e.webformatURL,t=e.largeImageURL,n=e.likes,o=e.views,c=e.comments,s=e.downloads,l=e.handleClick;return r.a.createElement("div",{className:M.a.photoCard},r.a.createElement("img",{src:a,alt:"From Web","data-image":t,className:M.a.galleryItem}),r.a.createElement("div",{className:M.a.stats},r.a.createElement("p",{className:M.a.statsItem},r.a.createElement("i",{className:"material-icons"},"thumb_up"),n),r.a.createElement("p",{className:M.a.statsItem},r.a.createElement("i",{className:"material-icons"},"visibility"),o),r.a.createElement("p",{className:M.a.statsItem},r.a.createElement("i",{className:"material-icons"},"comment"),c),r.a.createElement("p",{className:M.a.statsItem},r.a.createElement("i",{className:"material-icons"},"cloud_download"),s)),r.a.createElement("button",{type:"button",className:M.a.fullscreenButton,onClick:l},r.a.createElement("i",{className:"material-icons"},"zoom_out_map")))},C=t(5),O=t.n(C),U=function(e){function a(){var e,t;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(p.a)(this,(e=Object(h.a)(a)).call.apply(e,[this].concat(r)))).escapeHandler=function(e){27===e.keyCode&&t.props.closeModalinModal(e)},t.handleOverlayClick=function(e){e.currentTarget===e.target&&t.props.closeModalinModal(e)},t}return Object(f.a)(a,e),Object(d.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.escapeHandler)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.escapeHandler)}},{key:"render",value:function(){var e=this.props,a=e.closeModalinModal,t=e.modalUrl;return r.a.createElement("div",{className:O.a.modal},r.a.createElement("div",{className:O.a.overlay,onClick:this.handleOverlayClick},r.a.createElement("img",{src:t,alt:"other",className:O.a.modalImage}),r.a.createElement("button",{type:"button",className:O.a.closeButton,"data-action":"close-lightbox",onClick:a},r.a.createElement("i",{className:"material-icons"},"close"))))}}]),a}(n.Component),S=function(e){function a(){var e,t;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(p.a)(this,(e=Object(h.a)(a)).call.apply(e,[this].concat(r)))).state={search:null,page:1,url:"https://pixabay.com/api/",pics:[],displayModal:!1,modalUrl:null},t.handleClick=function(e){var a=e.currentTarget.parentElement.querySelector("img").dataset.image;t.setState({displayModal:!t.state.displayModal,modalUrl:a})},t.handleSubmit=function(){var e=Object(m.a)(i.a.mark((function e(a){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),n=a.target.firstChild.value,t.setState((function(e){return{page:1,search:n,pics:[]}})),e.next=5,t.startNewImagesSearch();case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),t.loadMoreHandler=Object(m.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.state.page,t.setState({page:a+1}),e.next=4,t.updateImagesSearch();case 4:case"end":return e.stop()}}),e)}))),t.closeModalinModal=function(){t.setState({displayModal:!t.state.displayModal})},t}return Object(f.a)(a,e),Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.startNewImagesSearch();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(m.a)(i.a.mark((function e(a,t){var n,r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.state,r=n.search,o=n.page,r===t.search){e.next=4;break}return e.next=4,this.startNewImagesSearch();case 4:if(!(o>t.page)){e.next=7;break}return e.next=7,this.updateImagesSearch();case 7:case"end":return e.stop()}}),e,this)})));return function(a,t){return e.apply(this,arguments)}}()},{key:"updateImagesSearch",value:function(){var e=Object(m.a)(i.a.mark((function e(){var a,t,n,r,o,c,l,m,u,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.state,t=a.search,n=a.page,r=a.url,o=a.pics,"13619613-d1f8f7df7dae9803108c4d3bd",c="".concat(r,"?image_type=photo&orientation=horizontal&per_page=12&q=").concat(t,"&page=").concat(n,"&key=").concat("13619613-d1f8f7df7dae9803108c4d3bd"),e.prev=3,e.next=6,g.a.get(c);case 6:l=e.sent,m=l.data.hits.map((function(e){return{webformatURL:e.webformatURL,largeImageURL:e.largeImageURL,likes:e.likes,views:e.views,comments:e.comments,downloads:e.downloads}})),u=o,d=[].concat(Object(s.a)(u),Object(s.a)(m)),this.setState({pics:Object(s.a)(d)}),window.scrollTo({top:document.querySelector("ul").scrollHeight,behavior:"smooth"}),e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(3),new Error(e.t0);case 17:case"end":return e.stop()}}),e,this,[[3,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"startNewImagesSearch",value:function(){var e=Object(m.a)(i.a.mark((function e(){var a,t,n,r,o,c,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.state,t=a.search,n=a.page,r=a.url,"13619613-d1f8f7df7dae9803108c4d3bd",o="".concat(r,"?image_type=photo&orientation=horizontal&per_page=12&q=").concat(t,"&page=").concat(n,"&key=").concat("13619613-d1f8f7df7dae9803108c4d3bd"),e.prev=3,e.next=6,g.a.get(o);case 6:c=e.sent,s=c.data.hits.map((function(e){return{webformatURL:e.webformatURL,largeImageURL:e.largeImageURL,likes:e.likes,views:e.views,comments:e.comments,downloads:e.downloads}})),this.setState({pics:s}),e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(3),new Error(e.t0);case 14:case"end":return e.stop()}}),e,this,[[3,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,a=null;return this.state.displayModal&&(a=r.a.createElement("div",null,r.a.createElement(U,{closeModalinModal:this.closeModalinModal,modalUrl:this.state.modalUrl}))),r.a.createElement("div",null,r.a.createElement(N,{handleSubmit:this.handleSubmit}),r.a.createElement("ul",{className:k.a.gallery},this.state.pics.map((function(a){var t=a.webformatURL,n=a.largeImageURL,o=a.likes,c=a.views,s=a.comments,l=a.downloads;return r.a.createElement("li",{key:b()(),className:"galleryItem"},r.a.createElement(x,{webformatURL:t,largeImageURL:n,likes:o,views:c,comments:s,downloads:l,handleClick:e.handleClick}))}))),r.a.createElement("button",{type:"button",className:k.a.button,onClick:this.loadMoreHandler},"Load More"),a)}}]),a}(n.Component);var j=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(S,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[27,1,2]]]);
//# sourceMappingURL=main.e526f036.chunk.js.map